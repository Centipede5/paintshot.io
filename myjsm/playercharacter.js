function a4_0x5d85(){var _0x574bc9=['team','character','normalize','transparent','position','kickup','KeyW','init','object','1468845IlsjUf','sprinting','739890VfrNcL','lag','alive','raycaster','red','add','shift','killer','endgame','115126bmWMVG','jumpsound','fixLOS','removeOpacity','KeyA','color','stopsprint','multiplyScalar','losObjs','lerp','playerCollider','playerCollitions','exp','subVectors','material','sin','slerp','copy','normal','3125060mzHnEz','stepsound','36563czpUsV','quaternion','intersectObject','char','dummy','onmenu','KeyD','playerOnFloor','counter','end','KeyS','tagging','playerDirection','adjuster','dist','visual','worldOctree','translate','spawns','opacity','length','Space','getWorldDirection','min','reset','start','playergun','cross','24vfFozh','volume','controls','distance','8786835eVLLPc','muted','clone','model','74ekDLAG','playVariedSound','set','addScaledVector','16xpLIEQ','quittomenu','camera','rotation','ShiftLeft','stopSprint','playerVelocity','2390rQiTDG','dot','orig','1134294naAdUb','stepdir','update'];a4_0x5d85=function(){return _0x574bc9;};return a4_0x5d85();}(function(_0x3870c3,_0x2f429d){var _0x5e736e=a4_0x2b56,_0x3c10a3=_0x3870c3();while(!![]){try{var _0x3f5494=parseInt(_0x5e736e(0xda))/0x1*(parseInt(_0x5e736e(0xfe))/0x2)+-parseInt(_0x5e736e(0x11a))/0x3+-parseInt(_0x5e736e(0xd8))/0x4+-parseInt(_0x5e736e(0x118))/0x5*(parseInt(_0x5e736e(0xf6))/0x6)+-parseInt(_0x5e736e(0x10c))/0x7*(-parseInt(_0x5e736e(0x102))/0x8)+-parseInt(_0x5e736e(0xfa))/0x9+parseInt(_0x5e736e(0x109))/0xa*(parseInt(_0x5e736e(0xc5))/0xb);if(_0x3f5494===_0x2f429d)break;else _0x3c10a3['push'](_0x3c10a3['shift']());}catch(_0x3606e5){_0x3c10a3['push'](_0x3c10a3['shift']());}}}(a4_0x5d85,0xf3e5b));import{Vector3,Vector2,Euler}from'../jsm/three.module.js';import{Capsule}from'../jsm/math/Capsule.js';import{character}from'./character.js';import{playerGun}from'./playergun.js';function a4_0x2b56(_0x289d16,_0x40e28e){var _0x5d85ef=a4_0x5d85();return a4_0x2b56=function(_0x2b563b,_0x277ca7){_0x2b563b=_0x2b563b-0xc3;var _0x8501b4=_0x5d85ef[_0x2b563b];return _0x8501b4;},a4_0x2b56(_0x289d16,_0x40e28e);}var playerCharacter=function(_0x20c20f,_0x3d3ec4,_0x4ffd12){var _0x462650=a4_0x2b56,_0x533764=this;_0x533764[_0x462650(0x110)]=new character(_0x20c20f),_0x533764[_0x462650(0xfd)]=_0x533764['character'][_0x462650(0xfd)],_0x533764[_0x462650(0x110)][_0x462650(0x116)](function(){},!![]),_0x533764[_0x462650(0xcb)]=![],_0x533764['playergun']=new playerGun(_0x533764),_0x533764[_0x462650(0x114)]=0x0,_0x533764[_0x462650(0x104)]=_0x4ffd12,_0x533764[_0x462650(0xfd)]['rotation'][_0x462650(0xd6)](_0x533764[_0x462650(0x104)][_0x462650(0x105)]),_0x533764[_0x462650(0xea)]=_0x3d3ec4;var _0x4597bd=new Vector3(0x0,0x0,0x0);_0x533764[_0x462650(0xcf)]=new Capsule(new Vector3(0x0,0x0,0x0)[_0x462650(0x11f)](_0x4597bd),new Vector3(0x0,0x1,0x0)[_0x462650(0x11f)](_0x4597bd),0.75),_0x533764['sprinting']=![],_0x533764[_0x462650(0x108)]=new Vector3(),_0x533764['playerDirection']=new Vector3(),_0x533764[_0x462650(0x11b)]=new Vector2(),_0x533764[_0x462650(0xe1)]=![];var _0x27eb3c=_0x533764;_0x533764[_0x462650(0xe8)]=0x0,_0x533764[_0x462650(0xe5)]=0x1,_0x533764['stepsound']=new Howl({'src':['sfx/step.mp3']}),_0x533764[_0x462650(0xd9)][_0x462650(0xf7)](0.3),_0x533764[_0x462650(0xc6)]=new Howl({'src':['sfx/jump.mp3']}),_0x533764[_0x462650(0xf2)]=function(_0x2898b9){var _0x166c32=_0x462650;_0x533764[_0x166c32(0xcf)][_0x166c32(0xf3)][_0x166c32(0x100)](0x0,0x0,0x0)[_0x166c32(0x11f)](_0x2898b9),_0x533764[_0x166c32(0xcf)][_0x166c32(0xe3)][_0x166c32(0x100)](0x0,0x1,0x0)[_0x166c32(0x11f)](_0x2898b9),_0x533764[_0x166c32(0x104)]['rotation'][_0x166c32(0x100)](0x0,0x0,0x0),_0x533764[_0x166c32(0x108)]['set'](0x0,0x0,0x0);},_0x533764['tag']=function(){_0x533764['tagging']=0.6;};function _0x6b0a67(){var _0x3df1a8=_0x462650;return _0x4ffd12['getWorldDirection'](_0x27eb3c[_0x3df1a8(0xe6)]),_0x27eb3c['playerDirection']['y']=0x0,_0x27eb3c['playerDirection']['normalize'](),_0x27eb3c[_0x3df1a8(0xe6)];}function _0x51e2e6(){var _0x56020b=_0x462650;return _0x4ffd12[_0x56020b(0xf0)](_0x27eb3c['playerDirection']),_0x27eb3c[_0x56020b(0xe6)]['y']=0x0,_0x27eb3c['playerDirection'][_0x56020b(0x111)](),_0x27eb3c[_0x56020b(0xe6)][_0x56020b(0xf5)](_0x4ffd12['up']),_0x27eb3c[_0x56020b(0xe6)];}_0x533764[_0x462650(0x107)]=function(){var _0x232fa5=_0x462650;_0x533764[_0x232fa5(0x119)]=![],_0x533764['stopsprint']=!![];},_0x533764[_0x462650(0xf8)]=function(_0x4b4c99,_0x5e5706){var _0x1ccea5=_0x462650,_0x3a0523=_0x533764;_0x533764['stopsprint']&&(_0x533764[_0x1ccea5(0xcb)]=![],_0x5e5706[_0x1ccea5(0x106)]=![]);_0x5e5706[_0x1ccea5(0x106)]?_0x533764[_0x1ccea5(0x119)]=!![]:_0x533764[_0x1ccea5(0x119)]=![];const _0x52dccf=0xd7*0.3*(0x1/1.08)*_0x533764[_0x1ccea5(0xe5)]*(_0x533764['sprinting']?1.3:0x1);var _0x296df3=new Vector3();if(_0x3a0523['playerOnFloor']){var _0xcc42b8=_0x3a0523['playerOnFloor']?0x1:0x0;_0x5e5706[_0x1ccea5(0x115)]&&(_0x296df3['x']+=0x1),_0x5e5706[_0x1ccea5(0xe4)]&&(_0x296df3['x']-=0x1),_0x5e5706[_0x1ccea5(0xc9)]&&(_0x296df3['y']-=0x1),_0x5e5706[_0x1ccea5(0xe0)]&&(_0x296df3['y']+=0x1),_0x296df3[_0x1ccea5(0x111)]()[_0x1ccea5(0xcc)](_0x52dccf*_0xcc42b8*_0x4b4c99),_0x3a0523[_0x1ccea5(0x108)]['add'](_0x6b0a67()[_0x1ccea5(0xcc)](_0x296df3['x'])),_0x3a0523[_0x1ccea5(0x108)][_0x1ccea5(0x11f)](_0x51e2e6()[_0x1ccea5(0xcc)](_0x296df3['y'])),_0x5e5706[_0x1ccea5(0xef)]&&(!window[_0x1ccea5(0x11c)]?window[_0x1ccea5(0x103)]():(_0x3a0523[_0x1ccea5(0x108)]['y']=0xa,!window[_0x1ccea5(0xfb)]&&window[_0x1ccea5(0xff)](_0x533764[_0x1ccea5(0xc6)]),_0x5e5706[_0x1ccea5(0xef)]=![],_0x533764[_0x1ccea5(0x114)]-=0.02));}},_0x533764[_0x462650(0xd0)]=function(){var _0x104891=_0x462650;const _0x3fa9d3=_0x3d3ec4['capsuleIntersect'](_0x533764[_0x104891(0xcf)]);_0x533764[_0x104891(0xe1)]=![],_0x3fa9d3&&(_0x533764['playerOnFloor']=_0x3fa9d3['normal']['y']>0x0,!_0x533764['playerOnFloor']&&_0x533764[_0x104891(0x108)]['addScaledVector'](_0x3fa9d3[_0x104891(0xd7)],-_0x3fa9d3[_0x104891(0xd7)][_0x104891(0x10a)](_0x533764[_0x104891(0x108)])),_0x533764[_0x104891(0xcf)][_0x104891(0xeb)](_0x3fa9d3['normal']['multiplyScalar'](_0x3fa9d3['depth'])));},_0x533764[_0x462650(0xde)]=new THREE['Object3D'](),_0x533764['v']=new Vector3(),_0x533764['adjuster']=new Vector3(0x0,0.6,0x0),_0x533764['mouse']=new Vector2(),_0x533764['raycaster']=new THREE['Raycaster'](),_0x533764[_0x462650(0xcd)]=[],_0x533764[_0x462650(0xe2)]=0x0,_0x533764[_0x462650(0xc8)]=function(){var _0x1031e4=_0x462650;while(_0x533764[_0x1031e4(0xcd)][_0x1031e4(0xee)]>0x0){var _0x194ed4=_0x533764[_0x1031e4(0xcd)][_0x1031e4(0x120)]();_0x194ed4['material'][_0x1031e4(0x112)]=![],_0x194ed4[_0x1031e4(0xd3)][_0x1031e4(0xed)]=0x1;}},_0x533764[_0x462650(0xc7)]=function(_0x4c2227){var _0x4b1f57=_0x462650;while(_0x533764[_0x4b1f57(0xcd)][_0x4b1f57(0xee)]>0x0){var _0x45c100=_0x533764['losObjs'][_0x4b1f57(0x120)]();_0x45c100[_0x4b1f57(0xd3)]['transparent']=![],_0x45c100[_0x4b1f57(0xd3)][_0x4b1f57(0xed)]=0x1;}_0x533764[_0x4b1f57(0x11d)]['setFromCamera'](_0x533764['mouse'],_0x533764[_0x4b1f57(0x104)]);const _0x465073=_0x533764['raycaster'][_0x4b1f57(0xdc)](window['map'],!![]);for(let _0x37e780=0x0;_0x37e780<_0x465073[_0x4b1f57(0xee)];_0x37e780++){var _0x45c100=_0x465073[_0x37e780][_0x4b1f57(0x117)];_0x465073[_0x37e780][_0x4b1f57(0xf9)]<_0x4c2227&&_0x45c100[_0x4b1f57(0xd3)]&&_0x45c100[_0x4b1f57(0xd3)][_0x4b1f57(0xca)]&&(_0x45c100['userData'][_0x4b1f57(0x10b)]={'t':_0x45c100[_0x4b1f57(0xd3)][_0x4b1f57(0x112)],'o':_0x45c100[_0x4b1f57(0xd3)][_0x4b1f57(0xed)]},_0x45c100[_0x4b1f57(0xd3)]['transparent']=!![],_0x45c100[_0x4b1f57(0xd3)]['opacity']=0.5,_0x533764['losObjs']['push'](_0x45c100));}},_0x533764[_0x462650(0x10d)]=0x1,_0x533764['updatePlayer']=function(_0x3c3419,_0x2e6b55,_0x3674c9){var _0x15729f=_0x462650;_0x533764[_0x15729f(0xe2)]+=_0x3c3419;if(window[_0x15729f(0xc4)])return;if(!window[_0x15729f(0x11c)]&&!window[_0x15729f(0xdf)]){_0x3674c9[_0x15729f(0xef)]&&window['quittomenu']();var _0xa42c78=game['getObj'](window[_0x15729f(0xc3)]);;if(_0xa42c78){_0x533764[_0x15729f(0xde)][_0x15729f(0x113)]['copy'](_0x533764['camera'][_0x15729f(0x113)]);var _0x30a271=_0xa42c78[_0x15729f(0xe9)][_0x15729f(0x113)][_0x15729f(0xfc)]()[_0x15729f(0x11f)](_0x533764[_0x15729f(0xe7)]);_0x533764['v'][_0x15729f(0xd2)](_0x533764[_0x15729f(0x104)][_0x15729f(0x113)],_0x30a271)[_0x15729f(0x11f)](_0x533764[_0x15729f(0x104)][_0x15729f(0x113)]),_0x533764[_0x15729f(0xde)]['lookAt'](_0x533764['v']),_0x533764[_0x15729f(0x104)]['quaternion'][_0x15729f(0xd5)](_0x533764[_0x15729f(0xde)][_0x15729f(0xdb)],0.2);var _0x4a1b90=_0x533764[_0x15729f(0x104)][_0x15729f(0x113)]['distanceTo'](_0x30a271);_0x533764[_0x15729f(0xc7)](_0x4a1b90),_0x4a1b90>0xa&&_0x533764['camera']['position'][_0x15729f(0xce)](_0x30a271,0.1*_0x3c3419);}return;}else{if(window[_0x15729f(0xdf)]&&!window[_0x15729f(0x11c)])return;_0x533764[_0x15729f(0xc8)]();}_0x3c3419=_0x3c3419,_0x533764[_0x15729f(0xe5)]=Math[_0x15729f(0xf1)](0x1,_0x533764[_0x15729f(0xe5)]+_0x3c3419/0x3);!window['onmenu']&&_0x533764['controls'](_0x3c3419,_0x3674c9);var _0x9222d5=_0x3c3419;_0x533764[_0x15729f(0xf4)][_0x15729f(0x10e)](_0x9222d5);if(_0x533764['playerOnFloor']){const _0x5800bd=Math[_0x15729f(0xd1)](-0xa*_0x3c3419)-0x1;_0x533764['playerVelocity'][_0x15729f(0x101)](_0x533764['playerVelocity'],_0x5800bd);}else _0x533764['playerVelocity']['y']-=_0x2e6b55*_0x3c3419;const _0x16b180=_0x533764['playerVelocity'][_0x15729f(0xfc)]()[_0x15729f(0xcc)](_0x3c3419);var _0x3e79dd=new Vector2(_0x533764[_0x15729f(0x108)]['x'],_0x533764[_0x15729f(0x108)]['z'])[_0x15729f(0xee)]();if(_0x3e79dd>0x1){_0x533764[_0x15729f(0xe8)]+=_0x3e79dd*_0x3c3419;var _0x1eeeca=0.01*Math[_0x15729f(0xd4)](_0x533764[_0x15729f(0xe8)]*2.5);if(_0x1eeeca>0x0&&_0x533764[_0x15729f(0x10d)]||_0x1eeeca<0x0&&!_0x533764['stepdir']){_0x533764[_0x15729f(0x10d)]=!_0x533764[_0x15729f(0x10d)];if(_0x533764[_0x15729f(0x10d)]&&!window['muted'])window[_0x15729f(0xff)](_0x533764['stepsound'],1.2);}_0x533764[_0x15729f(0x110)][_0x15729f(0xdd)][_0x15729f(0x113)]['y']=-1.57+_0x1eeeca;}else _0x533764[_0x15729f(0x110)][_0x15729f(0xdd)][_0x15729f(0x113)]['y']+=(-1.57-_0x533764[_0x15729f(0x110)][_0x15729f(0xdd)][_0x15729f(0x113)]['y'])*0.1*(0x1/0x3c/_0x3c3419),_0x533764[_0x15729f(0xe8)]=0x0;_0x533764[_0x15729f(0x110)][_0x15729f(0xdd)]['rotation']['x']+=_0x533764[_0x15729f(0x114)],_0x533764[_0x15729f(0x114)]=_0x533764[_0x15729f(0x114)]>0x0?Math['max'](0x0,_0x533764[_0x15729f(0x114)]-0.02):Math['min'](0x0,_0x533764['kickup']+0.02),_0x533764[_0x15729f(0x110)]['char'][_0x15729f(0x105)]['x']+=(-0.2+(_0x533764[_0x15729f(0x119)]?-0.05:0x0)-_0x533764['character']['char'][_0x15729f(0x105)]['x'])*(0.05*(0x1/0x3c/_0x3c3419)),_0x533764['playerCollider']['translate'](_0x16b180);if(game['me']&&game['me'][_0x15729f(0x10f)]){var _0x4f980c=game['me'][_0x15729f(0x10f)]==_0x15729f(0x11e)?0x1:0x0,_0x3ed2d7=_0x533764[_0x15729f(0xcf)][_0x15729f(0xf3)]['x'],_0xf79ab=window[_0x15729f(0xec)][_0x4f980c]+(_0x4f980c?0.75:-0.75);if(_0x4f980c&&_0x3ed2d7<_0xf79ab)_0x533764['playerCollider']['translate'](new Vector3(_0xf79ab-_0x3ed2d7,0x0,0x0));else!_0x4f980c&&_0x3ed2d7>_0xf79ab&&_0x533764['playerCollider'][_0x15729f(0xeb)](new Vector3(_0xf79ab-_0x3ed2d7,0x0,0x0));}_0x533764[_0x15729f(0xd0)](),_0x533764[_0x15729f(0x104)]['position']['copy'](_0x533764['playerCollider'][_0x15729f(0xe3)]),_0x533764[_0x15729f(0xfd)]['position'][_0x15729f(0xd6)](_0x533764[_0x15729f(0x104)][_0x15729f(0x113)]),_0x533764['model'][_0x15729f(0xdb)]['slerp'](_0x533764[_0x15729f(0x104)][_0x15729f(0xdb)],0x1);};};export{playerCharacter};