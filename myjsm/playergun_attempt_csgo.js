(function(_0x51530f,_0x22d969){var _0x52cb36=a6_0x39ac,_0x29a928=_0x51530f();while(!![]){try{var _0x5b1f53=-parseInt(_0x52cb36(0x88))/0x1*(-parseInt(_0x52cb36(0xbc))/0x2)+parseInt(_0x52cb36(0xbf))/0x3+-parseInt(_0x52cb36(0x85))/0x4+parseInt(_0x52cb36(0xba))/0x5+-parseInt(_0x52cb36(0x9c))/0x6+-parseInt(_0x52cb36(0x9b))/0x7+parseInt(_0x52cb36(0xa9))/0x8;if(_0x5b1f53===_0x22d969)break;else _0x29a928['push'](_0x29a928['shift']());}catch(_0x4efb83){_0x29a928['push'](_0x29a928['shift']());}}}(a6_0x55b3,0xa83ff));import{Vector3,Vector2,Raycaster,LineBasicMaterial,BufferGeometry,Line,MeshBasicMaterial,Mesh,Euler,MeshPhongMaterial}from'../jsm/three.module.js';import{DecalGeometry}from'../jsm/geometries/DecalGeometry.js';import a6_0x7a554c from'../../data/weapons.js';function HybridDecay(_0x1742ae,_0x5c2b47,_0x1ef0ee,_0x48ef0e){var _0x1737eb=a6_0x39ac;_0x5c2b47*=_0x48ef0e,_0x1ef0ee*=_0x48ef0e,_0x1742ae[_0x1737eb(0x95)](Math['exp'](-_0x5c2b47));var _0x42263e=_0x1742ae['length']();_0x42263e>_0x1ef0ee?_0x1742ae[_0x1737eb(0x95)](0x1-_0x1ef0ee/_0x42263e):_0x1742ae['set'](0x0,0x0,0x0);}function a6_0x39ac(_0x3d920b,_0x382005){var _0x55b396=a6_0x55b3();return a6_0x39ac=function(_0x39ac84,_0x23dfcb){_0x39ac84=_0x39ac84-0x85;var _0x5df1a5=_0x55b396[_0x39ac84];return _0x5df1a5;},a6_0x39ac(_0x3d920b,_0x382005);}function RemapValClamped(_0xa96ccb,_0x57c759,_0xa7581c,_0x1d087c,_0x536bfc){var _0x4d1695=a6_0x39ac;if(_0x57c759==_0xa7581c)return _0xa96ccb>=_0xa7581c?_0x536bfc:_0x1d087c;var _0x2c0537=(_0xa96ccb-_0x57c759)/(_0xa7581c-_0x57c759);return _0x2c0537=Math[_0x4d1695(0xa6)](Math[_0x4d1695(0xa5)](_0x2c0537,0x0),0x1),_0x1d087c+(_0x536bfc-_0x1d087c)*_0x2c0537;}function a6_0x55b3(){var _0x42af9b=['min','player','userData','5532016VEZdAp','currentPackets','BoxGeometry','weapons','exp','char','gun','face','rotation','shoot','AccuracyPenalty','toArray','sin','recoil_magnitude','stat','timeLeft','getInnacuracy','578265UkMtnU','impulse','6qcEdbv','transformDirection','leftinclip','1472142psBfNt','2069020PwqOyd','cos','lookAt','144799aaOaYf','indexOf','camera','push','update','raycaster','intersectObjects','velocity','matrixWorld','copy','sub','scene','position','multiplyScalar','point','object','add2cam','cycle_time','counter','1139873RrvudN','2178126OCFNgw','setFromVector3','add','clone','updateMatrixWorld','MeshNormalMaterial','textures','recoiler','name','max'];a6_0x55b3=function(){return _0x42af9b;};return a6_0x55b3();}var weapon_recoil_decay2_exp=0x8*0.65,weapon_recoil_decay2_lin=0x0*0x12*0.65,weapon_recoil_vel_decay=4.5,weapon_recoil_view_punch_extra=0x0,CS_PLAYER_SPEED_DUCK_MODIFIER=0.34,playerGun=function(_0x5f5c26){var _0x41d024=a6_0x39ac,_0x53b95d=this;_0x53b95d[_0x41d024(0xae)]=_0x5f5c26,_0x53b95d[_0x41d024(0xaf)]=_0x53b95d[_0x41d024(0xae)]['character']['weapon'],_0x53b95d[_0x41d024(0x9a)]=0x0,_0x53b95d[_0x41d024(0xbe)]=0x0,_0x53b95d['shooting']=![],_0x53b95d[_0x41d024(0xb7)]=a6_0x7a554c[_0x41d024(0xac)][0x0];var _0x562032=0xc8/0x3e8,_0x134d9f=new Mesh(new THREE[(_0x41d024(0xab))](0x1,0x1,0xa),new THREE[(_0x41d024(0xa1))]());_0x134d9f['visible']=![],window[_0x41d024(0x93)]['add'](_0x134d9f);const _0x12d452=new MeshPhongMaterial({'map':window[_0x41d024(0xa2)]['bullethole'],'shininess':0x1e,'transparent':!![],'depthTest':!![],'depthWrite':![],'polygonOffset':!![],'polygonOffsetFactor':-0x4,'wireframe':![]});return _0x53b95d[_0x41d024(0x8d)]=new Raycaster(),_0x53b95d[_0x41d024(0xb8)]=0x0,_0x53b95d[_0x41d024(0xb3)]=0x0,_0x53b95d[_0x41d024(0xa3)]={'position':new Vector3(),'lastposition':new Vector3(),'target':new Vector3(),'velocity':new Vector3(),'punchAngle':new Vector3(),'punchAngleVel':new Vector3(),'dt':0x0,'add2cam':function(_0x22533c){var _0x2f0440=_0x41d024;_0x53b95d[_0x2f0440(0xae)]['camera']['rotation'][_0x2f0440(0x9d)](_0x53b95d['char'][_0x2f0440(0x8a)][_0x2f0440(0xb1)]['toVector3']()[_0x2f0440(0x9e)](_0x22533c));},'syncnewpos':function(_0xa04c16){var _0x16e34d=_0x41d024,_0x43bf15=_0x53b95d[_0x16e34d(0xa3)],_0xcaf173=_0xa04c16[_0x16e34d(0x9f)]()[_0x16e34d(0x92)](_0x43bf15[_0x16e34d(0x94)][_0x16e34d(0x9f)]()),_0x2a6579=_0xcaf173['multiplyScalar'](Math['PI']/0xb4);_0x43bf15[_0x16e34d(0x94)][_0x16e34d(0x91)](_0xa04c16),_0x43bf15['add2cam'](_0x2a6579);},'update':function(_0x2670ae){var _0x508a3d=_0x41d024,_0x4ae0a8=_0x53b95d[_0x508a3d(0xa3)];_0x4ae0a8['dt']+=_0x2670ae;var _0x49338b=_0x2670ae,_0x3da317=_0x4ae0a8[_0x508a3d(0x94)][_0x508a3d(0x9f)]()[_0x508a3d(0x95)](0xb4/Math['PI']),_0xe0926d=_0x4ae0a8[_0x508a3d(0x8f)][_0x508a3d(0x9f)]();HybridDecay(_0x3da317,weapon_recoil_decay2_exp,weapon_recoil_decay2_lin,_0x49338b),_0x3da317[_0x508a3d(0x9e)](_0xe0926d[_0x508a3d(0x9f)]()[_0x508a3d(0x95)](_0x49338b*0.5)),_0xe0926d['multiplyScalar'](Math[_0x508a3d(0xad)](_0x49338b*-weapon_recoil_vel_decay)),_0x3da317[_0x508a3d(0x9e)](_0xe0926d[_0x508a3d(0x9f)]()[_0x508a3d(0x95)](_0x49338b*0.5)),_0x4ae0a8[_0x508a3d(0x8f)][_0x508a3d(0x91)](_0xe0926d);var _0x379032=_0x3da317[_0x508a3d(0x92)](_0x4ae0a8['position'][_0x508a3d(0x9f)]()[_0x508a3d(0x95)](0xb4/Math['PI']));_0x379032[_0x508a3d(0x95)](Math['PI']/0xb4),_0x4ae0a8['position'][_0x508a3d(0x9e)](_0x379032),_0x4ae0a8[_0x508a3d(0x98)](_0x379032);},'add':function(){var _0xb8c1a5=_0x41d024,_0x3fb1b3=_0x53b95d['recoiler'];_0x3fb1b3['dt']=0x0;var _0x51d0ed=0x0*(Math['PI']/0xb4),_0x3cb256=_0x53b95d[_0xb8c1a5(0xb7)][_0xb8c1a5(0xb6)]*0.65,_0x4bd716=new Vector3(_0x3cb256*Math[_0xb8c1a5(0x86)](_0x51d0ed),_0x3cb256*Math[_0xb8c1a5(0xb5)](_0x51d0ed),0x0);_0x3fb1b3[_0xb8c1a5(0x8f)]['add'](_0x4bd716);var _0x51fa70=_0x3fb1b3[_0xb8c1a5(0x94)][_0xb8c1a5(0x9f)]()[_0xb8c1a5(0x95)](0xb4/Math['PI']),_0x45f95c=_0x3cb256*weapon_recoil_view_punch_extra;_0x51fa70['y']+=Math['sin'](_0x51d0ed)*_0x45f95c,_0x51fa70['x']+=Math[_0xb8c1a5(0x86)](_0x51d0ed)*_0x45f95c;var _0x3439ed=_0x51fa70[_0xb8c1a5(0x95)](Math['PI']/0xb4)['sub'](_0x3fb1b3[_0xb8c1a5(0x94)]);_0x3fb1b3[_0xb8c1a5(0x94)][_0xb8c1a5(0x9e)](_0x3439ed),_0x3fb1b3[_0xb8c1a5(0x98)](_0x3439ed);}},_0x53b95d[_0x41d024(0xb9)]=function(){return 0x0;},_0x53b95d[_0x41d024(0xb2)]=function(_0x57261a){var _0x27cdd3=_0x41d024;if(_0x53b95d['timeLeft']<=0x0){_0x53b95d[_0x27cdd3(0xb8)]=_0x53b95d[_0x27cdd3(0xb7)][_0x27cdd3(0x99)];var _0xa01edf=_0x53b95d[_0x27cdd3(0xa3)]['position'][_0x27cdd3(0x9f)](),_0x19f9c3=_0x53b95d[_0x27cdd3(0xb9)]()/0x3e8,_0x13e0d6=(Math['random']()-0.5)*(0x2*Math['PI']);_0xa01edf['x']+=Math['cos'](_0x13e0d6)*_0x19f9c3,_0xa01edf['y']+=Math['sin'](_0x13e0d6)*_0x19f9c3,_0x53b95d[_0x27cdd3(0xa3)][_0x27cdd3(0x98)](_0xa01edf),_0x53b95d['char'][_0x27cdd3(0x8a)][_0x27cdd3(0xa0)](),_0x53b95d[_0x27cdd3(0x8d)]['setFromCamera'](new Vector2(),_0x53b95d['char'][_0x27cdd3(0x8a)]);var _0x4b4372=_0x53b95d[_0x27cdd3(0x8d)][_0x27cdd3(0x8e)](window['hitscanobjects'],!![]);if(_0x4b4372[0x0]){if(_0x4b4372[0x0][_0x27cdd3(0x97)][_0x27cdd3(0xa8)][_0x27cdd3(0xa7)]!=null){game[_0x27cdd3(0xaa)][_0x27cdd3(0x8b)]({'type':_0x27cdd3(0xb2),'end':_0x4b4372[0x0]['point'][_0x27cdd3(0xb4)](),'hit':_0x4b4372[0x0]['object'][_0x27cdd3(0xa8)]['player'],'head':_0x4b4372[0x0]['object'][_0x27cdd3(0xa4)][_0x27cdd3(0x89)]('Head')!=-0x1});var _0x9b85e5=game['getObj'](_0x4b4372[0x0][_0x27cdd3(0x97)]['userData'][_0x27cdd3(0xa7)]);_0x9b85e5&&(_0x9b85e5['char'][_0x27cdd3(0xbb)]=0x1);}else{const _0x51ba0c=_0x4b4372[0x0][_0x27cdd3(0x96)];_0x134d9f[_0x27cdd3(0x94)][_0x27cdd3(0x91)](_0x51ba0c);const _0x1ad455=_0x4b4372[0x0][_0x27cdd3(0xb0)]['normal']['clone']();_0x1ad455[_0x27cdd3(0xbd)](_0x4b4372[0x0][_0x27cdd3(0x97)][_0x27cdd3(0x90)]),_0x1ad455[_0x27cdd3(0x95)](0xa),_0x1ad455[_0x27cdd3(0x9e)](_0x4b4372[0x0][_0x27cdd3(0x96)]),_0x134d9f[_0x27cdd3(0x87)](_0x1ad455);const _0x147889=new DecalGeometry(_0x4b4372[0x0][_0x27cdd3(0x97)],_0x51ba0c,_0x134d9f[_0x27cdd3(0xb1)][_0x27cdd3(0x9f)](),new Vector3(0.2,0.2,0.2)),_0x47687d=new Mesh(_0x147889,_0x12d452);window[_0x27cdd3(0x93)][_0x27cdd3(0x9e)](_0x47687d);}}_0x53b95d[_0x27cdd3(0xa3)][_0x27cdd3(0x98)](_0xa01edf[_0x27cdd3(0x95)](-0x1)),_0x53b95d[_0x27cdd3(0xae)][_0x27cdd3(0x8a)]['updateMatrixWorld'](),_0x53b95d[_0x27cdd3(0xa3)][_0x27cdd3(0x9e)]();}},_0x53b95d['update']=function(_0x19dff8){var _0x9b0d9a=_0x41d024;_0x53b95d[_0x9b0d9a(0x9a)]+=_0x19dff8,_0x53b95d[_0x9b0d9a(0xb8)]-=_0x19dff8,_0x53b95d['recoiler'][_0x9b0d9a(0x8c)](_0x19dff8),_0x53b95d['shooting']&&_0x53b95d[_0x9b0d9a(0xb2)](_0x19dff8);},_0x53b95d;};export{playerGun};